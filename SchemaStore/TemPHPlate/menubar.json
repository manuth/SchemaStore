{
    "id": "http://json.nuth.ch/TemPHPlate/menubar",
    "$schema": "http://json-schema.org/draft-04/schema#",

    "title": "TemPHPlate â€¢ MenuBar",
    "description": "Schema for a menu-bar designed for TemPHPlate",

    "type": "object",
    "properties":
    {
        "menuBar":
        {
            "type": "object",
            "title": "MenuBar",
            "description": "Provides information about the menu-bar",

            "properties":
            {
                "style":
                {
                    "type": "string",
                    "title": "Style",
                    "description": "The visual style of the menu-bar",

                    "enum": [
                        "default",
                        "inverse"
                    ],
                    "default": "default"
                },
                "items":
                {
                    "type": "array",
                    "title": "Items",
                    "description": "The items of the menu-bar",

                    "items":
                    {
                        "oneOf":
                        [
                            { "$ref": "#/definitions/mainMenuItem" }
                        ]
                    }
                },
                "rightItems":
                {
                    "type": "array",
                    "title": "RightItems",
                    "description": "The items of the menubar which are desplayed on the right",

                    "items":
                    {
                        "oneOf":
                        [
                            { "$ref": "#/definitions/mainMenuItem" }
                        ]
                    }
                }
            },
            "required":
            [
                "style",
                "items",
                "rightItems"
            ],
            "additionalProperties": false
        }
    },
    "definitions":
    {
        "menuItemBase":
        {
            "type": "object",

            "properties":
            {
                "id":
                {
                    "type": "string",
                    "title": "ID",
                    "description": "The unique identifier of the menu-item"
                },
                "type":
                {
                    "type": "string",
                    "title": "Type",
                    "description": "The type of the menu-item",

                    "default": "menuItem"
                }
            },
            "required": [ "id", "type" ]
        },

        "mainMenuItem":
        {
            "allOf":
            [
                { "$ref": "#/definitions/menuItemBase" }
            ],
            
            "oneOf":
            [
                { "$ref": "#/definitions/menuItem" },
                { "$ref": "#/definitions/menuItemText" },
                { "$ref": "#/definitions/menuItemGroup" }
            ]
        },

        "subMenuItem":
        {
            "allOf":
            [
                { "$ref": "#/definitions/menuItemBase" }
            ],

            "oneOf":
            [
                { "$ref": "#/definitions/menuItem" },
                { "$ref": "#/definitions/menuItemText" },
                { "$ref": "#/definitions/menuItemSeparator" }
            ]
        },
        
        "menuItem":
        {
            "title": "MenuItem",
            "description": "Represents a menu-item",

            "properties":
            {
                "id": { },
                "type":
                {
                    "enum": [ "menuItem" ],
                    "default": "menuItem"
                },
                "name":
                {
                    "type": "string",
                    "title": "Name",
                    "description": "The name of the menu-item to display",

                    "default": "Example"
                },
                "url":
                {
                    "type": "string",
                    "title": "URL",
                    "description": "The URI to open",

                    "default": "http://www.example.com/"
                },
                "newTab":
                {
                    "type": "boolean",
                    "title": "NewTab",
                    "description": "Defines whether the URI should be opened up in a new tab or not",

                    "default": false
                }
            },
            "required":
            [
                "name",
                "url"
            ],
            "additionalProperties": false
        },

        "menuItemText":
        {
            "title": "MenuItemText",
            "description": "Provides a menu-item which displays a text",

            "properties":
            {
                "id": { },
                "type":
                {
                    "enum":
                    [
                        "menuItemText"
                    ]
                },
                "text":
                {
                    "type": "string",
                    "title": "Text",
                    "description": "The text to display",

                    "default": "Example"
                }
            },
            "required":
            [
                "text"
            ],
            "additionalProperties": false
        },

        "menuItemSeparator":
        {
            "title": "MenuItemSeparator",
            "description": "Provides a menu-separator",

            "properties":
            {
                "id": { },
                "type":
                {
                    "enum":
                    [
                        "menuItemSeparator"
                    ]
                }
            },
            "additionalProperties": false
        },
        
        "menuItemGroup":
        {
            "title": "MenuItemGroup",
            "description": "Provides a group of menu-items",

            "properties":
            {
                "id": { },
                "type":
                {
                    "enum": [ "menuItemGroup" ]
                },
                "name":
                {
                    "type": "string",
                    "title": "Name",
                    "description": "The name of the group to display"
                },
                "items":
                {
                    "type": "array",
                    "title": "Items",
                    "description": "The menu-items of the group",

                    "items":
                    {
                        "allOf":
                        [
                            { "$ref": "#/definitions/subMenuItem" }
                        ]
                    }
                }
            },
            "required":
            [
                "name",
                "items"
            ],
            "additionalProperties": false
        }
    }
}